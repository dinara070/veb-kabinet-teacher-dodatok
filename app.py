import streamlit as st
import sqlite3
import pandas as pd
import hashlib
from datetime import datetime
import io
import altair as alt
import re  # –î–ª—è –ª–æ–≥—ñ–∫–∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—è –∫—É—Ä—Å—ñ–≤

# --- –ö–û–ù–§–Ü–ì–£–†–ê–¶–Ü–Ø –°–¢–û–†–Ü–ù–ö–ò ---
st.set_page_config(page_title="Veb kabinet", layout="wide", page_icon="üéì")

# --- –õ–û–ì–Ü–ö–ê –ü–ï–†–ï–ú–ò–ö–ê–ù–ù–Ø –¢–ï–ú–ò ---
if 'theme' not in st.session_state:
    st.session_state.theme = 'light'

def toggle_theme():
    if st.session_state.theme == 'light':
        st.session_state.theme = 'dark'
    else:
        st.session_state.theme = 'light'

# --- CSS –°–¢–ò–õ–Ü ---
dark_css = """
<style>
    .stApp { background-color: #0E1117; color: #FFFFFF; }
    [data-testid="stSidebar"] { background-color: #262730; }
    h1, h2, h3, h4, h5, h6, p, li, span, label, .stMarkdown { color: #FFFFFF !important; }
    .stTextInput > div > div, .stSelectbox > div > div, .stTextArea > div > div, .stDateInput > div > div, .stNumberInput > div > div {
        background-color: #41444C !important; color: #FFFFFF !important;
    }
    input, textarea { color: #FFFFFF !important; }
    [data-testid="stDataFrame"], [data-testid="stTable"] { color: #FFFFFF !important; }
    .streamlit-expanderHeader { background-color: #262730 !important; color: #FFFFFF !important; }
    button { color: #FFFFFF !important; }
</style>
"""

light_css = """
<style>
    .stApp { background-color: #FFFFFF; color: #000000; }
    [data-testid="stSidebar"] { background-color: #F0F2F6; }
    h1, h2, h3, h4, h5, h6, p, li, span, label, .stMarkdown { color: #000000 !important; }
    .stTextInput > div > div, .stSelectbox > div > div, .stTextArea > div > div, .stDateInput > div > div, .stNumberInput > div > div {
        background-color: #FFFFFF !important; color: #000000 !important; border: 1px solid #D3D3D3;
    }
    input, textarea { color: #000000 !important; }
    [data-testid="stDataFrame"], [data-testid="stTable"] { color: #000000 !important; }
    .streamlit-expanderHeader { background-color: #F0F2F6 !important; color: #000000 !important; }
    button { color: #000000 !important; }
</style>
"""

if st.session_state.theme == 'dark':
    st.markdown(dark_css, unsafe_allow_html=True)
else:
    st.markdown(light_css, unsafe_allow_html=True)


# --- –ö–û–ù–°–¢–ê–ù–¢–ò –¢–ê –ü–†–ê–í–ê –î–û–°–¢–£–ü–£ ---
ROLES_LIST = ["teacher"]
TEACHER_LEVEL = ['teacher']
DEAN_LEVEL = ['teacher']

# --- –°–ü–ò–°–û–ö –ü–†–ï–î–ú–ï–¢–Ü–í ---
SUBJECTS_LIST = [
    "–§—ñ–ª–æ—Å–æ—Ñ—ñ—è", "–Ü—Å—Ç–æ—Ä—ñ—è —ñ –∫—É–ª—å—Ç—É—Ä–∞ –£–∫—Ä–∞—ó–Ω–∏", "–£–∫—Ä–∞—ó–Ω—Å—å–∫–∞ –º–æ–≤–∞ (–∑–∞ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–º —Å–ø—Ä—è–º—É–≤–∞–Ω–Ω—è–º)", "–ü–µ–¥–∞–≥–æ–≥—ñ–∫–∞",
    "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω–æ–≥–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è", "–Ü–Ω–æ–∑–µ–º–Ω–∞ –º–æ–≤–∞ –¥–ª—è –∞–∫–∞–¥–µ–º—ñ—á–Ω–æ–≥–æ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è (–º–∞–≥—ñ—Å—Ç—Ä–∏)", "–ó–∞–≥–∞–ª—å–Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è",
    "–í—ñ–∫–æ–≤–∞ —ñ –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è", "–°–æ—Ü—ñ–∞–ª—å–Ω–∞ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è", "–ü—Å–∏—Ö–æ–ª–æ–≥—ñ—è (–∑–∞–≥–∞–ª—å–Ω–∞)", "–ü—Å–∏—Ö–æ–ª–æ–≥—ñ—è –ª—ñ–¥–µ—Ä—Å—Ç–≤–∞",
    "–Ü—Å—Ç–æ—Ä—ñ—è –ø–µ–¥–∞–≥–æ–≥—ñ–∫–∏", "–ú–µ—Ç–æ–¥–∏–∫–∞ –≤–∏—Ö–æ–≤–Ω–æ—ó —Ä–æ–±–æ—Ç–∏", "–û—Å–Ω–æ–≤–∏ –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–æ—ó –º–∞–π—Å—Ç–µ—Ä–Ω–æ—Å—Ç—ñ", "–ü—Ä–∞–≤–æ–∑–Ω–∞–≤—Å—Ç–≤–æ", 
    "–†–∏—Ç–æ—Ä–∏–∫–∞",  "–õ—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞ —ñ –∫—ñ–Ω–æ", "–ü—Ä–∞–≤–∞ —Ç–∞ —Å–≤–æ–±–æ–¥–∏ –ª—é–¥–∏–Ω–∏ —ñ –≥—Ä–æ–º–∞–¥—è–Ω–∏–Ω–∞", "–¶–∏–≤—ñ–ª—å–Ω–∏–π –∑–∞—Ö–∏—Å—Ç", "–ë–µ–∑–ø–µ–∫–∞ –∂–∏—Ç—Ç—î–¥—ñ—è–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –æ—Å–Ω–æ–≤–∏ –æ—Ö–æ—Ä–æ–Ω–∏ –ø—Ä–∞—Ü—ñ",
    "–ë–∞–∑–æ–≤–∞ –∑–∞–≥–∞–ª—å–Ω–æ–≤—ñ–π—Å—å–∫–æ–≤–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞", "–¢—Ä–µ–Ω—ñ–Ω–≥ —Ä–æ–∑–≤–∏—Ç–∫—É —Å—Ç—Ä–µ—Å–æ—Å—Ç—ñ–π–∫–æ—Å—Ç—ñ", "–î–æ–º–µ–¥–∏—á–Ω–∞ –¥–æ–ø–æ–º–æ–≥–∞", "–§—ñ–∑–∏—á–Ω–∞ –∫—É–ª—å—Ç—É—Ä–∞",
    "–ü–æ–ª—å—Å—å–∫–∞ –º–æ–≤–∞: –ø–æ—á–∞—Ç–∫–æ–≤–∏–π –∫—É—Ä—Å", "–ï–∫–æ–ª–æ–≥—ñ—è", "–§—ñ–Ω–∞–Ω—Å–æ–≤–∞ –≥—Ä–∞–º–æ—Ç–Ω—ñ—Å—Ç—å", "–ß–∏—Å–ª–æ–≤—ñ —Å–∏—Å—Ç–µ–º–∏", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑", "–õ—ñ–Ω—ñ–π–Ω–∞ –∞–ª–≥–µ–±—Ä–∞", "–õ—ñ–Ω—ñ–π–Ω–∞ –∞–ª–≥–µ–±—Ä–∞ —ñ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è", "–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è",
    "–ê–ª–≥–µ–±—Ä–∞ —ñ —Ç–µ–æ—Ä—ñ—è —á–∏—Å–µ–ª", "–ï–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞", "–ï–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∑ —Ç–æ—á–∫–∏ –∑–æ—Ä—É –≤–∏—â–æ—ó",
    "–î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è —Ç–∞ —Ä—ñ–≤–Ω—è–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ—ó —Ñ—ñ–∑–∏–∫–∏", "–†—ñ–≤–Ω—è–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ—ó —Ñ—ñ–∑–∏–∫–∏", 
    "–¢–µ–æ—Ä—ñ—è –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π —Ç–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "–û—Å–Ω–æ–≤–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —ñ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö", "–ü—Ä–∏–∫–ª–∞–¥–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞, –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω—ñ –≤–∏–º—ñ—Ä—é–≤–∞–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —è–∫–æ—Å—Ç—ñ –æ—Å–≤—ñ—Ç–∏", 
    "–ô–º–æ–≤—ñ—Ä–Ω—ñ—Å–Ω–æ-—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å", "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∞ –ª–æ–≥—ñ–∫–∞ —ñ —Ç–µ–æ—Ä—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤", "–î–∏—Å–∫—Ä–µ—Ç–Ω–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∞",
    "–û—Å–Ω–æ–≤–∏ –∞–ª–≥–µ–±—Ä–∏ —ñ –¥–∏—Å–∫—Ä–µ—Ç–Ω–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–¢–µ–æ—Ä—ñ—è –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤", "–§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑", "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∏–π –∞–Ω–∞–ª—ñ–∑",
    "–î–∏—Ñ–µ—Ä–µ–Ω—Ü—ñ–∞–ª—å–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è —ñ —Ç–æ–ø–æ–ª–æ–≥—ñ—è", "–û—Å–Ω–æ–≤–∏ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó", "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω–∞ –≥–µ–æ–º–µ—Ç—Ä—ñ—è", "–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–æ–∑–¥—ñ–ª–∏ –≥–µ–æ–º–µ—Ç—Ä—ñ—ó",
    "–ö–æ–º–±—ñ–Ω–∞—Ç–æ—Ä–∏–∫–∞ —ñ –æ—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó –π–º–æ–≤—ñ—Ä–Ω–æ—Å—Ç–µ–π", "–ú–µ—Ç–æ–¥–∏ –æ–±—á–∏—Å–ª–µ–Ω—å", "–ú–µ—Ç–æ–¥–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ç–∞ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π", 
    "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ —É –ø—Ä–∏–π–Ω—è—Ç—Ç—ñ —Ä—ñ—à–µ–Ω—å", "–°–∏—Å—Ç–µ–º–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ —Ç–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è", "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –ø—Ä–∏—Ä–æ–¥–Ω–∏—á–∏—Ö —ñ —Å–æ—Ü—ñ–∞–ª—å–Ω–æ-–µ–∫–æ–Ω–æ–º—ñ—á–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤", 
    "–ú–∞—Ç–µ–º–∞—Ç–∏—á–Ω—ñ –æ—Å–Ω–æ–≤–∏ –∑–∞—Ö–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó", "–Ü–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ñ —Ä—ñ–≤–Ω—è–Ω–Ω—è —ñ –≤–∞—Ä—ñ–∞—Ü—ñ–π–Ω–µ —á–∏—Å–ª–µ–Ω–Ω—è", "–ê—Å–∏–º–ø—Ç–æ—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", 
    "–û—Å–Ω–æ–≤–∏ –∞–Ω–∞–ª—ñ–∑—É –§—É—Ä'—î", "–û—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó —Å–æ–ª—ñ—Ç–æ–Ω—ñ–≤", "–ê–Ω–∞–ª—ñ–∑ –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤ —ñ –ª–∞–Ω—Ü—é–≥–∏ –ú–∞—Ä–∫–æ–≤–∞", 
    "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω—ñ –º–µ—Ç–æ–¥–∏ –æ–±—Ä–æ–±–∫–∏ experiment–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö", "–Ü—Å—Ç–æ—Ä—ñ—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–ï–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", 
    "–ó–∞–≥–∞–ª—å–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", "–ú–µ—Ö–∞–Ω—ñ–∫–∞", "–ú–æ–ª–µ–∫—É–ª—è—Ä–Ω–∞ —Ñ—ñ–∑–∏–∫–∞ —ñ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º—ñ–∫–∞", "–ï–ª–µ–∫—Ç—Ä–∏–∫–∞ —ñ –º–∞–≥–Ω–µ—Ç–∏–∑–º –û–ø—Ç–∏–∫–∞",
    "–ê—Ç–æ–º–Ω–∞ —ñ —è–¥–µ—Ä–Ω–∞ —Ñ—ñ–∑–∏–∫–∞", "–ü—Ä–∞–∫—Ç–∏–∫—É–º —Ä–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á –∑ —Ñ—ñ–∑–∏–∫–∏", "–¢–µ–æ—Ä–µ—Ç–∏—á–Ω–∞ —Ñ—ñ–∑–∏–∫–∞",
    "–ö–ª–∞—Å–∏—á–Ω–∞ –º–µ—Ö–∞–Ω—ñ–∫–∞", "–ö–≤–∞–Ω—Ç–æ–≤–∞ –º–µ—Ö–∞–Ω—ñ–∫–∞", "–°—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∞ —Ñ—ñ–∑–∏–∫–∞ —ñ —Ç–µ—Ä–º–æ–¥–∏–Ω–∞–º—ñ–∫–∞", "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ —Ç–µ–æ—Ä—ñ—è —Ä–µ—á–æ–≤–∏–Ω–∏", 
    "–§—ñ–∑–∏–∫–∞ —Ç–∞ –º–µ—Ç–æ–¥–∏–∫–∞ —ó—ó –Ω–∞–≤—á–∞–Ω–Ω—è —É –ª—ñ—Ü–µ—è—Ö / –∞–∫–∞–¥–µ–º—ñ—á–Ω–∏—Ö –ª—ñ—Ü–µ—è—Ö", "–í–∏–±—Ä–∞–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è —Å—É—á–∞—Å–Ω–æ—ó —Ñ—ñ–∑–∏–∫–∏, —Ç–µ—Ö–Ω—ñ–∫–∏, –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó", 
    "–§—ñ–∑–∏–∫–∞ –∂–∏–≤–∏—Ö —Å–∏—Å—Ç–µ–º", "–§—ñ–∑–∏—á–Ω—ñ –æ—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–∏ –±—ñ–æ–º–µ–¥–∏—á–Ω–æ—ó —Ç–µ—Ö–Ω—ñ–∫–∏", "–ê—Å—Ç—Ä–æ—Ñ—ñ–∑–∏–∫–∞", "–í–∏–±—Ä–∞–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó", 
    "–ü—Ä–∞–∫—Ç–∏–∫—É–º –∑ —Ñ—ñ–∑–∏—á–Ω–æ–≥–æ –µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É —Ç–∞ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—á–Ω–∏—Ö —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω—å", "–°—É—á–∞—Å–Ω–µ –ø—Ä–∏—Ä–æ–¥–æ–∑–Ω–∞–≤—Å—Ç–≤–æ —ñ –º–µ—Ç–æ–¥–∏–∫–∞ –π–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è",
    "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ (–∑–∞–≥–∞–ª—å–Ω–∞)", "–Ü–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ —Ç–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–®–∫—ñ–ª—å–Ω–∏–π –∫—É—Ä—Å —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏", "–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö",
    "–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω–∞ –∫—É–ª—å—Ç—É—Ä–∞", "–û—Å–Ω–æ–≤–∏ —à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É", "–ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è –≤ –æ—Å–≤—ñ—Ç—ñ", "–ü—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", 
    "–°—É—á–∞—Å–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è, –º–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è —Ç–∞ –®–Ü –≤ –æ—Å–≤—ñ—Ç—ñ", "–ê–ª–≥–æ—Ä–∏—Ç–º–∏ —ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ –¥–∞–Ω–∏—Ö",
    "–û—Å–Ω–æ–≤–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ–≥–æ —Ç–∞ –æ–±'—î–∫—Ç–Ω–æ-–æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", "–û—Å–Ω–æ–≤–∏ –≤–µ–±-–ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è",
    "–ü–æ–±—É–¥–æ–≤–∞ —Ç–∞ –∞–Ω–∞–ª—ñ–∑ –∞–ª–≥–æ—Ä–∏—Ç–º—ñ–≤ —É —à–∫—ñ–ª—å–Ω—ñ–π —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏—Ü—ñ", "–û–ø–µ—Ä–∞—Ü—ñ–π–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ —Ç–∞ –º–µ—Ä–µ–∂–µ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –≤ —à–∫—ñ–ª—å–Ω–æ–º—É –∫—É—Ä—Å—ñ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏",
    "–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ —Ç–∞ –ø—Ä–æ–≥—Ä–∞–º–Ω–µ –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–∏—Ö —Å–∏—Å—Ç–µ–º", "–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ–π–Ω—ñ —Å–∏—Å—Ç–µ–º–∏",
    "–°–∏—Å—Ç–µ–º–∏ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–∏—Ö", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–æ –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è / –≤ –ø—Ä–æ—Ñ–µ—Å—ñ–π–Ω—ñ–π –¥—ñ—è–ª—å–Ω–æ—Å—Ç—ñ", 
    "–¶–∏—Ñ—Ä–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –æ–±—Ä–æ–±–∫–∏ –≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∑–æ–±—Ä–∞–∂–µ–Ω—å, –∞–Ω—ñ–º–∞—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–µ–æ", "–¶–∏—Ñ—Ä–æ–≤—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞—É–∫–æ–≤–∏—Ö –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å", 
    "–°–∏—Å—Ç–µ–º–∏ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–æ—ó –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–ö–æ–º–ø'—é—Ç–µ—Ä–Ω–µ –º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º —ñ –ø—Ä–æ—Ü–µ—Å—ñ–≤", "3D-–º–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è", 
    "–û—Å–Ω–æ–≤–∏ –∫—ñ–±–µ—Ä–±–µ–∑–ø–µ–∫–∏", "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –∑–∞—Ö–∏—Å—Ç—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó", "–û—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–æ—Ç–µ—Ö–Ω—ñ–∫–∏ —Ç–∞ –∫—Ä–µ–∞—Ç–∏–≤–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è", 
    "–ú–æ–±—ñ–ª—å–Ω—ñ –∑–∞—Å—Ç–æ—Å—É–Ω–∫–∏ / —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó —É –Ω–∞–≤—á–∞–Ω–Ω—ñ", "–î–∏—Å—Ç–∞–Ω—Ü—ñ–π–Ω–∏–π —Å—É–ø—Ä–æ–≤—ñ–¥ —à–∫—ñ–ª—å–Ω–æ–≥–æ –∫—É—Ä—Å—É –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏",
    "–°–ø–µ—Ü—ñ–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞", "–ü—Ä–æ–≥—Ä–∞–º–Ω—ñ –∑–∞—Å–æ–±–∏ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Å–ø—Ä—è–º—É–≤–∞–Ω–Ω—è", "–û—Å–Ω–æ–≤–∏ —Ç–µ–æ—Ä—ñ—ó —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É–∞–ª—å–Ω–∏—Ö —Å–∏—Å—Ç–µ–º",
    "–ü–æ–≥–ª–∏–±–ª–µ–Ω–∏–π –∫—É—Ä—Å —à–∫—ñ–ª—å–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏", "–Ü–Ω–∫–ª—é–∑–∏–≤–Ω–∏–π –º–µ–¥—ñ–∞–ø—Ä–æ—Å—Ç—ñ—Ä: —î–≤—Ä–æ–ø–µ–π—Å—å–∫–∏–π –¥–æ—Å–≤—ñ–¥", 
    "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏", "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–ú–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏", 
    "–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏ —Ç–∞ –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó", "–¢–µ–æ—Ä—ñ—è —ñ –º–µ—Ç–æ–¥–∏–∫–∞ –ø–æ–≥–ª–∏–±–ª–µ–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è (–∞–ª–≥–µ–±—Ä–∏, —Å—Ç–µ—Ä–µ–æ–º–µ—Ç—Ä—ñ—ó)",
    "–ù–∞—É–∫–æ–≤—ñ –æ—Å–Ω–æ–≤–∏ –ø–æ–≥–ª–∏–±–ª–µ–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–¢–µ–æ—Ä—ñ—è —ñ –ø—Ä–∞–∫—Ç–∏–∫–∞ –º–∞—Ç–µ–º–∞—Ç–∏—á–Ω–∏—Ö / —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏—á–Ω–∏—Ö –æ–ª—ñ–º–ø—ñ–∞–¥",
    "–ü—Ä–∞–∫—Ç–∏–∫—É–º —Ä–æ–∑–≤'—è–∑—É–≤–∞–Ω–Ω—è –æ–ª—ñ–º–ø—ñ–∞–¥–Ω–∏—Ö –∑–∞–¥–∞—á (–∞–ª–≥–µ–±—Ä–∞, –≥–µ–æ–º–µ—Ç—Ä—ñ—è)", "–í–∏–±—Ä–∞–Ω—ñ –ø–∏—Ç–∞–Ω–Ω—è —à–∫—ñ–ª—å–Ω–æ–≥–æ –∫—É—Ä—Å—É —Ñ—ñ–∑–∏–∫–∏ / –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", 
    "–ú–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è —ñ –º–µ—Ç–æ–¥–∏–∫–∞ –Ω–∞—É–∫–æ–≤–∏—Ö –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å", "–ü–µ–¥–∞–≥–æ–≥—ñ–∫–∞ —ñ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—è –≤–∏—â–æ—ó —à–∫–æ–ª–∏", "–û—Å–≤—ñ—Ç–æ–º–µ—Ç—Ä—ñ—è",
    "–ú–æ–¥–µ–ª—é–≤–∞–Ω–Ω—è –¥—ñ—è–ª—å–Ω–æ—Å—Ç—ñ –≤–∏–∫–ª–∞–¥–∞—á–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ –ó–í–û", "–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥, –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Ç–∞ –æ—Ü—ñ–Ω—é–≤–∞–Ω–Ω—è –Ω–∞–≤—á–∞–Ω–Ω—è –∑ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", 
    "–Ü–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –Ω–∞–≤—á–∞–ª—å–Ω–∏–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ / –ø—Ä–æ—î–∫—Ç–Ω–æ—é –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—é", "–ú–µ—Ç–æ–¥–∏–∫–∞ —ñ–Ω–∫–ª—é–∑–∏–≤–Ω–æ–≥–æ –Ω–∞–≤—á–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏",
    "–î–æ—Å–ª—ñ–¥–Ω–∏—Ü—å–∫–æ-–ø—Ä–æ—î–∫—Ç—É–≤–∞–ª—å–Ω–∞ –¥—ñ—è–ª—å–Ω—ñ—Å—Ç—å –≤—á–∏—Ç–µ–ª—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏", "–Ü–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω–∏–π –ø–µ–¥–∞–≥–æ–≥—ñ—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏",
    "–¢–µ–æ—Ä—ñ—è —ñ –ø—Ä–∞–∫—Ç–∏–∫–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏ –∑ —Ñ—ñ–∑–∏–∫–∏ –¥–æ –ó–ù–û", "–ü—Ä–∞–∫—Ç–∏–∫—É–º STEM-–µ–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—É"
]

# --- –î–ê–ù–Ü (–°—Ç—É–¥–µ–Ω—Ç–∏) ---
GROUPS_DATA = {
    "1–°–û–ú": ["–ê–ª–µ–∫—Å—î—î–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì–∞–π–¥–∞–π –ê–Ω–∞—Ç–æ–ª—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–ñ—É—Ä–±–µ–ª—é–∫ –ü–∞–≤–ª—ñ–Ω–∞ –ü–∞–≤–ª—ñ–≤–Ω–∞", "–ó–∞—Ä—É–¥–Ω—è–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–Ω–∏—à –î–µ–Ω–∏—Å –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö—Ä–∞–ø–ª—è –õ—ñ–ª—ñ—è –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–õ–æ–≥–∞—à–∫—ñ–Ω –î–µ–Ω–∏—Å –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á", "–ú–∞–∑—É—Ä –í–µ—Ä–æ–Ω—ñ–∫–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–µ–ª—å–Ω–∏–∫ –ë–æ–≥–¥–∞–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ü–µ—Ä–≤–∏–π –ê–Ω–¥—Ä—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–°—É–ª–∏–º–∞ –î–∞—Ä–∏–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–¢–∏–º–æ—à–µ–Ω–∫–æ –ú–∞—Ä—ñ—è –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–®–∞–ø–µ–ª—å—Å—å–∫–∞ –ö–∞—Ç–µ—Ä–∏–Ω–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–®–µ–≤—á—É–∫ –ú–∞—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞"],
    "1–°–û–Ü": ["–õ–∏—Å–µ–Ω–∫–æ –¢–∏–º–æ—Ñ—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–õ—ñ–≤–∏–π –ü–∞–≤–ª–æ –í–ª–∞–¥–∏—Å–ª–∞–≤–æ–≤–∏—á", "–ú—É—Ä–µ–Ω–∫–æ –°—Ç–µ–ø–∞–Ω –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–ü–æ—Å–ø–µ–ª–æ–≤ –ù–∞–∑–∞—Ä –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–†–∏–±—á—É–∫ –ê–Ω–¥—Ä—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–¢–æ–º–∞—à–µ–≤—Å—å–∫–∏–π –ê—Ä—Ç–µ–º –í–∞—Å–∏–ª—å–æ–≤–∏—á"],
    "1–ú": ["–ë–∞—Å–∞—Ä–∞–±–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –Ü–≥–æ—Ä–æ–≤–∏—á", "–ë–æ–Ω–¥–∞—Ä –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∞—Å–∏–ª—å–æ–≤–∏—á", "–î–∞–Ω—å–∫–æ–≤—Å—å–∫–∏–π –ù—ñ–∫—ñ—Ç–∞ –ì–ª—ñ–±–æ–≤–∏—á", "–ö–æ–∫–∞—Ä—î–≤–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°—É–ª–∏–º–∞ –ú–∞—Ä–≥–∞—Ä—ñ—Ç–∞ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–¢–∏—à–∫—ñ–Ω–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ü–∞–≤–ª—ñ–≤–Ω–∞"],
    "1–°–û–§–ê": ["–ì–µ–Ω—Å—ñ—Ü—å–∫–∞ –ê–ª—ñ–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö—É—Ä—ñ–ª—å—á–µ–Ω–∫–æ –ö—ñ—Ä–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ú–µ—Ü–≥–µ—Ä –ö–∞—Ç–µ—Ä–∏–Ω–∞ –í–∞–ª–µ—Ä—ñ—ó–≤–Ω–∞", "–ß–µ—Ä–Ω–µ—Ü—å–∫–∞ –ù–∞—Ç–∞–ª—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–®–≤–µ–¥—É–Ω –í–∞–ª–µ—Ä—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á"],
    "2–°–û–ú": ["–ê–¥–∞–º–ª—é–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –†–æ–º–∞–Ω–æ–≤–∏—á", "–ë–∏—á–∫–æ –î–∞—Ä'—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ë—É–≥—Ä–æ–≤–∞ –Æ–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ë—É—Ä–µ–π–∫–æ –í–æ–ª–æ–¥–∏–º–∏—Ä –û–º–µ–ª—è–Ω–æ–≤–∏—á", "–ì–æ–Ω—á–∞—Ä—É–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ì—Ä—ñ—â–µ–Ω–∫–æ –°–≤—ñ—Ç–ª–∞–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ì—É–Ω—å–∫–æ –Ü–≤–∞–Ω –†–æ–º–∞–Ω–æ–≤–∏—á", "–î–æ—Ä–æ—à –†—É—Å–ª–∞–Ω –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–ñ—É—Ä–∞–≤–µ–ª—å –ê–ª—å–æ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ó—ñ–Ω—á–µ–Ω–∫–æ –ú–∞–∫—Å–∏–º –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ö–∞–ª—ñ–Ω—ñ–Ω –Ñ–≤–≥–µ–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö–∏—Å—ñ–ª—å –Ø–Ω–∞ –Æ—Ä—ñ—ó–≤–Ω–∞", "–ö–∏—Ü—è –Ø—Ä–æ—Å–ª–∞–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–ö—Ä–∞–≤—á—É–∫ –Æ–ª—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω—é–∫ –î—ñ–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–∞–∑–∞—Ä—É–∫ –î—ñ–∞–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–ü–∞—Å—ñ—á–Ω–∏–∫ –°–æ—Ñ—ñ—è –ù–∞–∑–∞—Ä—ñ–≤–Ω–∞", "–ü—É—Å—Ç–æ–≤—ñ—Ç –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –î–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ü—É—á–∫–æ–≤–∞ –í–∞–ª–µ—Ä—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–°–∏—á—É–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–ª–æ–±–æ–¥—è–Ω—é–∫ –í—ñ–∫—Ç–æ—Ä—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–°—Ç–∞—Å—å–∫–æ–≤–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–•–∞—Ä–∫–µ–≤–∏—á –†—É—Å–ª–∞–Ω –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–µ—Ä–µ—à–Ω—è –°—Ç–∞–Ω—ñ—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–æ—Ä–Ω–∞ –Ñ–ª–∏–∑–∞–≤–µ—Ç–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞"],
    "2–°–û–§–ê": ["–ú–∏–∫–æ–ª–∞–π—á—É–∫ –ú–∞–∫—Å–∏–º –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–§—É—Ä—Å—ñ–∫ –ú–∞—Ä—ñ—è –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞"],
    "2–°–û–Ü": ["–ê–¥–∞–º–æ–≤ –í–ª–∞–¥–∏—Å–ª–∞–≤ –í–∏—Ç–∞–ª—ñ–π–æ–≤–∏—á", "–í–µ–∫—à–∏–Ω –Ü–≥–æ—Ä –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "D—ñ–¥–µ–Ω–∫–æ –ê—Ä—Ç–µ–º –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö–∏—Ä–∏–ª—é–∫ –Ø—Ä–æ—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—É–∑–æ–≤–ª—î–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–æ–≤–∞–∫ –õ—ñ–ª—ñ—è –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–û—Å—Ç–∞–ø–æ–≤ –ê–Ω—Ç–æ–Ω –Æ—Ä—ñ–π–æ–≤–∏—á", "–¢–∞—Ä–∞–Ω—é–∫ –°—Ç–µ–ø–∞–Ω –Ñ–≤–≥–µ–Ω—ñ–π–æ–≤–∏—á", "–®–∏–ª–æ –ì–ª—ñ–± –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–®–ø–∞–∫ –î–∞—Ä'—è –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞"],
    "2–ú": ["–ë–ª–æ–Ω—Å—å–∫–∏–π –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ø—Ä–æ—Å–ª–∞–≤–æ–≤–∏—á", "–ë–æ–Ω–¥–∞—Ä –ù–∞—Ç–∞–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ì–æ–ª–æ–≤–∞—Ç–∞ –í–∞–ª–µ—Ä—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì—Ä–∞–∂–¥–∞–Ω –¢—ñ–º—É—Ä –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω–æ–≤–∏—á", "–ì—É—Ü–æ–ª –ê–ª—å–æ–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–õ–µ–≤–µ–Ω–µ—Ü—å –í–ª–∞–¥–∏—Å–ª–∞–≤–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–õ–µ–≤—á–µ–Ω–∫–æ –ê–Ω–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ú–∏–∫–æ–ª–∞—î–Ω–∫–æ D–º–∏—Ç—Ä–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–°–µ–º–µ–Ω—é–∫ –ê–Ω–≥–µ–ª—ñ–Ω–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–Ø—Ü—é–∫ –í—ñ–∫—Ç–æ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞"],
    "3–°–û–ú": ["–í–∏–Ω–∞—Ä—á–∏–∫ –°–æ—Ñ—ñ—è –°—Ç–µ–ø–∞–Ω—ñ–≤–Ω–∞", "–í–æ–ª–∏–Ω—Å—å–∫–∞ –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–ª–∞–Ω—Ü–∞—Ç–∏–π –ö–æ—Å—Ç—è–Ω—Ç–∏–Ω –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—Ä–∞–º–∞—Ä –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö—É–∑—å–º–µ–Ω–∫–æ –ö–∞—Ä–∏–Ω–∞ –õ–µ–æ–Ω—ñ–¥—ñ–≤–Ω–∞", "–õ–∏—Å–∞–∫–æ–≤ –í—ñ—Ç–∞–ª—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–õ—É—á–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω–µ–Ω–∫–æ –í–ª–∞–¥–∏—Å–ª–∞–≤ –Ü–≥–æ—Ä–æ–≤–∏—á", "–ú–∏—Ö–∞–π–ª–µ–Ω–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–ù–µ—Ñ–µ–¥–æ–≤–∞ –ö—Å–µ–Ω—ñ—è –Ñ–≤–≥–µ–Ω—ñ—ó–Ω–∞", "–ü–∞–ø–ª—ñ–Ω—Å—å–∫–∞ –Ü—Ä–∏–Ω–∞ –ü–µ—Ç—Ä—ñ–≤–Ω–∞", "–†—É–¥–∫–µ–≤–∏—á –û–ª—å–≥–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–°–µ—Ä–≤–µ—Ç–Ω—ñ–∫ –õ—ñ–ª—ñ—è –Ø—Ä–æ—Å–ª–∞–≤—ñ–≤–Ω–∞", "–£—Å–∞—Ç—é–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞", "–•–æ–≤–∞–Ω–µ—Ü—å –ú–∞—Ä º—è–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ß–µ—Ä–Ω—É—Ö–∞ –°–æ—Ñ—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–®–ø–æ—Ä—Ç–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞"],
    "3–°–û–Ü": ["–ë–∞–±—ñ–π –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "D—ñ—Ö—Ç—è—Ä –í—ñ—Ç–∞–ª—ñ–π –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "D–æ–≤–∂–æ–∫ –í—ñ–∫—Ç–æ—Ä –ü–µ—Ç—Ä–æ–≤–∏—á", "–ö–∞–∑–∞–Ω–æ–∫ –Ñ–≥–æ—Ä –ú–∏—Ö–∞–π–ª–æ–≤–∏—á", "–ú–∞–∫–æ–≤—ñ—Ü—å–∫–∏–π –û–ª–µ–∫—Å—ñ–π –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á", "–ü–∏—Å—å–º–µ–Ω–Ω–∏–π –°–µ—Ä–≥—ñ–π –í–∞—Å–∏–ª—å–æ–≤–∏—á", "–†–µ–ø–µ–π –ê–Ω–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–°—Ç–∞–Ω–∫–µ–≤–∏—á –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–°—Ç—Ä–∞—Ç—ñ–π—á—É–∫ –Ü–≤–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–®–∞—Ç–∫–æ–≤—Å—å–∫–∏–π D–º–∏—Ç—Ä–æ –ü–µ—Ç—Ä–æ–≤–∏—á", "–®—É–º–∏–ª–æ D–∞—Ä–∏–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞"],
    "3–°–û–§–ê": ["–ö–ª–∞–ø—É—â–∞–∫ –ë–æ–≥–¥–∞–Ω –í—ñ—Ç–∞–ª—ñ–π–æ–≤–∏—á", "–ü—Ä–∏—Å—è–∂–Ω—é–∫ –Ü–≤–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°—Ç–∞—Å—é–∫ –í–∞–¥–∏–º –í–æ–ª—å–¥–µ–º–∞—Ä–æ–≤–∏—á", "–¢–µ—Ä–∞–∫—Ç D–º–∏—Ç—Ä–æ –í–∞—Å–∏–ª—å–æ–≤–∏—á", "–•—ñ—Ö–ª–æ –Ü—Ä–∏–Ω–∞ –í–∞–ª–µ—Ä—ñ—ó–≤–Ω–∞"],
    "3–ú": ["–ë–∞—á–æ–∫ –ú–∏–∫–æ–ª–∞ –ü–µ—Ç—Ä–æ–≤–∏—á", "–ö–æ–±–µ—Ä–Ω–∏–∫ –Ü—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ü–æ–ø—ñ–ª—å –Æ–ª—ñ–∞–Ω–∞ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–°–µ–º–µ–Ω–µ—Ü—å –í–µ—Ä–æ–Ω—ñ–∫–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–¶–∏—Ä—É–ª—å–Ω—ñ–∫–æ–≤–∞ –ú–∞—Ä–∏–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞"],
    "4–°–û–ú": ["–ì–æ–ª–æ–≤–∞—Ç–∞ –ú–∞—Ä–∏–Ω–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞", "–ì—Ä—ñ—â–µ–Ω–∫–æ –ê–Ω–¥—Ä—ñ–π –†—É—Å–ª–∞–Ω–æ–≤–∏—á", "–ö–ª—ñ—â –Æ–ª—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–∞—Ä—Ç–∏–Ω—é–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ú–∞—Ö–æ–≤—Å—å–∫–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ú–æ—Ü–Ω–∞ –ú–∞—Ä—ñ—è –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞", "–ú—Ä—É–≥ D–∞—Ä—ñ—è –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–ú—É–ª—è—Ä –ö–∞—Ä–∏–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ù–µ–≤—Ä—é—î–≤–∞ D–∞—Ä'—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ù–∏–∫–∏—Ç—é–∫ –Æ–ª—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ü–∞–≤–ª–æ–≤–∞ –í—ñ–∫—Ç–æ—Ä—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–°–µ–≤–∞—Å—Ç—å—è–Ω–æ–≤–∞ –ö–∞—Ä—ñ–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–°—Ç—Ä—É–±—á–µ–≤—Å—å–∫–∞ D–∞—Ä'—è –í—è—á–µ—Å–ª–∞–≤—ñ–≤–Ω–∞", "–¢—ñ–º–æ—â–µ–Ω–∫–æ –Ü—Ä–∏–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "–§–∞—à—Ç–∏–Ω—Å—å–∫–∞ –ú–∞—Ä—ñ—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–§—É—Ä–º–∞–Ω –ù–∞—Ç–∞–ª—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–•–æ–¥–∏–∫ –ê–ª—ñ–Ω–∞ –†–∞–¥—ñ–æ–Ω—ñ–≤–Ω–∞", "–®–≤–µ—Ü—å –ù–∞—Ç–∞–ª—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞"],
    "4–°–û–Ü": ["–ë–∞—Ä–∞–Ω–æ–≤—Å—å–∫–∏–π –ù—ñ–∫—ñ—Ç–∞ –Ø—Ä–æ—Å–ª–∞–≤–æ–≤–∏—á", "–í–∏—à–∫–æ–≤—Å—å–∫–∞ –í–µ—Ä–æ–Ω—ñ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–í–æ–≥–Ω–∏–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–ó–æ–∑—É–ª—è –Æ–ª—ñ—è –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö—Ä–∞—Å—ñ–ª–∏—á –ù–∞–∑–∞—Ä—ñ–π –Ñ–≤–≥–µ–Ω–æ–≤–∏—á", "–ú–∞–ª—å–æ–≤–∞–Ω–∏–π –í—ñ—Ç–∞–ª—ñ–π –í–∞–¥–∏–º–æ–≤–∏—á", "–ü–µ–ª–µ—à–æ–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–°–∞–≤—ñ–Ω–∞ –ö–∞—Ä–∏–Ω–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–°–æ—Ä–æ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–¢–∞–±–∞—à–Ω—é–∫ –ö–∞—Ä—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–®–∏–∫—ñ—Ä –¢–∞—Ä–∞—Å –†–æ–º–∞–Ω–æ–≤–∏—á"],
    "4–ú": ["–ö–∞—Ä–Ω–∞—É—â—É–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–≥—ñ–≤–Ω–∞", "–ö–æ—Ü—é–±–∞–Ω D—ñ–∞–Ω–∞ –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ö–æ—Ü—é–±–∏–Ω—Å—å–∫–∞ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–∞—ó–Ω—á—É–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –ü–∞–≤–ª—ñ–≤–Ω–∞", "–®–µ–ª—å–º–∞–Ω –õ—ñ–ª—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–Ø–∫–∏–º—á—É–∫ –ê–ª—ñ–Ω–∞ –Æ—Ä—ñ—ó–≤–Ω–∞"],
    "4–°–û–§–ê": ["D–µ–ª—å–Ω–µ—Ü—å–∫–∏–π –Ü–≥–æ—Ä –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "D–æ–≤–≥–∞–ª—å –ú–∞—Ä–∏–Ω–∞ –ì–µ–Ω–Ω–∞–¥—ñ—ó–≤–Ω–∞", "–ó–æ–∑—É–ª—è –°–æ—Ñ—ñ—è –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ß–∞–ª–µ–Ω–∫–æ –û–ª—å–≥–∞ –í–æ–ª–æ–¥–∏–º–∏—Ä—ñ–≤–Ω–∞"],
    "1–ú–°–û–Ü": ["–ê—Ñ–∞–Ω–∞—Å—å—î–≤ D–º–∏—Ç—Ä–æ –ê–Ω–¥—Ä—ñ–π–æ–≤–∏—á", "–ë—Ä–∏–∂–∞–∫ –í–ª–∞–¥–∏—Å–ª–∞–≤ –ê–Ω–∞—Ç–æ–ª—ñ–π–æ–≤–∏—á", "–í–∞–≤—à–∫–æ –í—ñ—Ç–∞–ª—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö—ñ–∑—ñ–º –°—Ç–µ–ø–∞–Ω –í–∞–¥–∏–º–æ–≤–∏—á", "–ö–æ–≤–∞–ª–µ–Ω–∫–æ –ú–∞—Ä—ñ—á–∫–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–æ—Ä–æ–ª—å–æ–≤ –ú–∞–∫—Å–∏–º –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ú—É–ª—è—Ä—á—É–∫ –°–µ—Ä–≥—ñ–π –ü–∞–≤–ª–æ–≤–∏—á", "–ù–∏–∫–∏—Ç—é–∫ D—ñ–∞–Ω–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–†–∞–ø–ª—î–≤ –ê–Ω–¥—Ä—ñ–π –Ñ–≤–≥–µ–Ω–æ–≤–∏—á", "–®–µ–≤—á—É–∫ –Ñ–≤–≥–µ–Ω –Ü–≥–æ—Ä–æ–≤–∏—á"],
    "1–ú–ú": ["–ì–µ—Ç–º–∞–Ω—á—É–∫ –ê–Ω–Ω–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω—ñ–≤–Ω–∞", "–ö—É—Ö—Ç–∞ –Ü–≤–∞–Ω–∫–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–°—Ç–µ—Å—é–∫ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–í–æ—Ä–æ–±–µ—Ü—å –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–ö—É–ª—ñ—à –û–ª–µ–∫—Å–∞–Ω–¥—Ä–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "–õ–æ–≥–≤—ñ–Ω–µ–Ω–∫–æ –ì–∞–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–û–Ω–∏—â—É–∫ –û–ª–µ–∫—Å—ñ–π –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á", "–Æ—Ä—á—É–∫ D–∞—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞"],
    "1–ú–°–û–ú": ["–ö–æ–º–∞—Ä–æ–≤–∞ –ö–∞—Ä—ñ–Ω–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞", "–ó–ª–æ—Ç–∫–æ–≤—Å—å–∫–∞ –ê–ª–ª–∞ –í—ñ–ª–µ–Ω—ñ–≤–Ω–∞", "–¢–∞—Ä–∞–Ω—é–∫ –ù–∞–¥—ñ—è –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–ö–∞–∑–º—ñ—Ä—á—É–∫ –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–û—Å—Ç–∞–ø—á—É–∫ D—ñ–∞–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–ü–∞—à–∫—ñ–≤—Å—å–∫–∏–π –ë–æ–≥–¥–∞–Ω –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ú–∏—Ö–∞–π–ª—å–æ –õ—ñ–¥—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–¢—Ç–æ—Ä–∫–æ—Ç—é–∫ –Æ—Ä—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ö–ª–∏–º—á—É–∫ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "D—è—á—É–∫ –Ñ–≥–æ—Ä –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–Ü—Å—å–∫–æ–≤ –Ü–≥–æ—Ä –í–∞–ª–µ—Ä—ñ–π–æ–≤–∏—á", "–ë—Ä–∏—Ü–æ–≤–∞ –Ü–ª–æ–Ω–∞ –ë–æ–≥–¥–∞–Ω—ñ–≤–Ω–∞", "–†–æ–º–∞–Ω—å–∫–æ –û–ª–µ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ë—ñ–ª–∞ –ö–∞—Ä–∏–Ω–∞ –†—É—Å–ª–∞–Ω—ñ–≤–Ω–∞", "–ê–Ω—Ç–æ—à–∫–æ –ú–∞—Ä–∏–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ë–æ–Ω–¥–∞—Ä–µ–Ω–∫–æ –Ñ–ª–µ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ì—É—Ä–º–∞–Ω –ö–∞—Ç–µ—Ä–∏–Ω–∞ –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "D–æ–Ω—Å—å–∫–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ü–æ—à—Ç–∞—Ä—É–∫ –°–Ω—ñ–∂–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ë–∞–π–¥–∞ –ö–∞—Ä—ñ–Ω–∞ –Ü–≥–æ—Ä—ñ–≤–Ω–∞", "–ú–∞–º—á—É—Ä –ú–∏—Ä–æ—Å–ª–∞–≤–∞ D–º–∏—Ç—Ä—ñ–≤–Ω–∞", "–°–∞–ª–∫–µ–≤–∏—á D–∞—Ä–∏–Ω–∞ –†–æ–º–∞–Ω—ñ–≤–Ω–∞", "S–µ–º—á—É–∫ –û–ª–µ–≥ –í–∞—Å–∏–ª—å–æ–≤–∏—á"],
    "1–ú–°–û–§–ê": ["–ú—ñ—â–µ–Ω–∫–æ –í–ª–∞–¥–∏—Å–ª–∞–≤ –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ñ—É—Ä–∂–∞ –ê—Ä—Ç–µ–º –ê—Ä—Å–µ–Ω–æ–≤–∏—á", "–ë–µ—Ä–µ–∂–Ω–∞ –†–µ–≥—ñ–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "D–º–∏—Ç—Ä–µ–Ω–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "D—Ä—ñ–º–∞ –í—ñ—Ç–∞–ª—ñ–π", "–û–ª–µ–∫—Å—ñ–π–∫–æ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –û–ª–µ–∫—Å–∞–Ω–¥—Ä–æ–≤–∏—á"],
    "2–ú–°–û–ú": ["–í–æ—Ä–æ–∂–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –û–ª–µ–∫—Å—ñ—ó–≤–Ω–∞", "–ì–æ–Ω—á–∞—Ä –°–µ—Ä–≥—ñ–π –í—ñ—Ç–∞–ª—ñ–π–æ–≤–∏—á", "D–∑—é–Ω—è–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ó—ñ–Ω—è–∫ –Ü–≤–∞–Ω–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–Ü–≤–∞–Ω–æ–≤–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ö–µ–±–∞ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–ö–æ–∑—è—Ä—á—É–∫ –ö–∞—Ç–µ—Ä–∏–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–õ–µ—â–µ–Ω–∫–æ –¢–µ—Ç—è–Ω–∞ –¢–∏–º—É—Ä—ñ–≤–Ω–∞", "–ú–∏—Ö–∞–π–ª—é—Ç–∞ –û–ª–µ–Ω–∞ –í–∞—Å–∏–ª—ñ–≤–Ω–∞", "–†—É—Ç–∫–µ–≤–∏—á –¢–µ—Ç—è–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–†—è–±—É—Ö–∞ –í–µ—Ä–æ–Ω—ñ–∫–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–°–∏–¥–æ—Ä–µ–Ω–∫–æ –ê–Ω–Ω–∞ –û–ª–µ–∫—Å–∞–Ω–¥—Ä—ñ–≤–Ω–∞", "–¢–∏—â–µ–Ω–∫–æ –Ø–Ω–∞ –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞", "–®—É—Ä–∏–Ω—è–∫ –û–ª–µ–∫—Å–∞–Ω–¥—Ä –Ü–≥–æ—Ä–æ–≤–∏—á"],
    "2–ú–°–û–§–ê": ["–ë—É—Å–µ–ª –°–æ—Ñ—ñ—è –Æ—Ä—ñ—ó–≤–Ω–∞", "–ì—É–ª–∏—á –ù–∞—Ç–∞–ª—ñ—è –†—É—Å–ª–∞–Ω—ñ–≤–Ω–∞", "–ö—É–ª—å–ø–µ–∫—ñ–Ω –Ü–≥–æ—Ä –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á", "–ú–∏—Ä–æ–Ω—é–∫ –ú–∞—Ä–∏–Ω–∞ –ê–Ω–∞—Ç–æ–ª—ñ—ó–≤–Ω–∞"],
    "2–ú–°–û–Ü": ["–ö–æ–ø—Ç—î–≤ –Ü–≤–∞–Ω –í–∞–ª–µ—Ä—ñ–π–æ–≤–∏—á", "–ö–æ—Å–µ–Ω—é–∫ –ú–∞—Ä–∫ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á", "–¢–∞—Å–∫–∞—î–≤ D–º–∏—Ç—Ä–æ –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á", "–®–µ–≤—á—É–∫ –ü–∞–≤–ª–æ –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á"],
    "2–ú–ú": ["–ì—Ä–∏—Ü–µ–Ω–∫–æ –í–æ–ª–æ–¥–∏–º–∏—Ä –ë–æ—Ä–∏—Å–æ–≤–∏—á", "D—ñ–¥—É—Å–µ–Ω–∫–æ –ê–Ω–∞—Å—Ç–∞—Å—ñ—è –í—ñ–∫—Ç–æ—Ä—ñ–≤–Ω–∞", "–ö—ñ–∑—ñ–º –°—Ç–µ–ø–∞–Ω –í–∞–¥–∏–º–æ–≤–∏—á", "–ü—ñ–º–µ–Ω–æ–≤ –ê–Ω–¥—Ä—ñ–π –°–µ—Ä–≥—ñ–π–æ–≤–∏—á", "–ß–µ—Ä–Ω—ñ—î–Ω–∫–æ –ê—Ä—Ç–µ–º –í—ñ–∫—Ç–æ—Ä–æ–≤–∏—á"]
}

# --- –î–ê–ù–Ü (–í–∏–∫–ª–∞–¥–∞—á—ñ) ---
TEACHERS_DATA = {
    "–ö–∞—Ñ–µ–¥—Ä–∞ –∞–ª–≥–µ–±—Ä–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏": [
        "–ö–æ–Ω–æ—à–µ–≤—Å—å–∫–∏–π –û–ª–µ–≥ –õ–µ–æ–Ω—ñ–¥–æ–≤–∏—á (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏ –∞–ª–≥–µ–±—Ä–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏)", "–ú–∞—Ç—è—à –û–ª—å–≥–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞", "–ú–∏—Ö–∞–π–ª–µ–Ω–∫–æ –õ—é–±–æ–≤ –§–µ–¥–æ—Ä—ñ–≤–Ω–∞", "–í–æ—î–≤–æ–¥–∞ –ê–ª—ñ–Ω–∞ –õ–µ–æ–Ω—ñ–¥—ñ–≤–Ω–∞ (–î–µ–∫–∞–Ω —Ñ–∞–∫—É–ª—å—Ç–µ—Ç—É –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, —Ñ—ñ–∑–∏–∫–∏ —ñ –∫–æ–º–ø'—é—Ç–µ—Ä–Ω–∏—Ö –Ω–∞—É–∫)",
        "–í–æ—Ç—è–∫–æ–≤–∞ –õ–µ—Å—è –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–ö–∞–ª–∞—à–Ω—ñ–∫–æ–≤ –Ü–≥–æ—Ä –í‚Äô—è—á–µ—Å–ª–∞–≤–æ–≤–∏—á", "–ù–∞–∫–æ–Ω–µ—á–Ω–∞ –õ—é–¥–º–∏–ª–∞ –ô–æ—Å–∏–ø—ñ–≤–Ω–∞", "–ü–∞–Ω–∞—Å–µ–Ω–∫–æ –û–ª–µ–∫—Å—ñ–π –ë–æ—Ä–∏—Å–æ–≤–∏—á (–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–µ–∫–∞–Ω–∞ –∑ –Ω–∞–≤—á–∞–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏)",
        "–¢—é—Ç—é–Ω–Ω–∏–∫ D—ñ–∞–Ω–∞ –û–ª–µ–≥—ñ–≤–Ω–∞", "–ö–æ–º–∞—Ä–æ–≤–∞ –ö–∞—Ä–∏–Ω–∞ –í–∞–¥–∏–º—ñ–≤–Ω–∞"
    ],
    "–ö–∞—Ñ–µ–¥—Ä–∞ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏": [
        "–ö–æ–≤—Ç–æ–Ω—é–∫ –ú–∞—Ä'—è–Ω–∞ –ú–∏—Ö–∞–π–ª—ñ–≤–Ω–∞ (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏ –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏ —Ç–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∏)", "–ë–∞–∫ –°–µ—Ä–≥—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á (–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–µ–∫–∞–Ω–∞ –∑ –Ω–∞—É–∫–æ–≤–æ—ó —Ä–æ–±–æ—Ç–∏)", "–ö–ª–æ—á–∫–æ –û–∫—Å–∞–Ω–∞ –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞",
        "–ì—Ä–∞–Ω—è–∫ –í–∞–ª–µ—Ä—ñ–π –§–µ–¥–æ—Ä–æ–≤–∏—á", "–ö–æ–≤—Ç–æ–Ω—é–∫ –ì–∞–ª–∏–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ö–æ—Å–æ–≤–µ—Ü—å –û–ª–µ–Ω–∞ –ü–∞–≤–ª—ñ–≤–Ω–∞ (–ó–∞—Å—Ç—É–ø–Ω–∏–∫ –¥–µ–∫–∞–Ω–∞ –∑ –≤–∏—Ö–æ–≤–Ω–æ—ó —Ç–∞ —Å–æ—Ü—ñ–∞–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏)", "–ö—Ä—É–ø—Å—å–∫–∏–π –Ø—Ä–æ—Å–ª–∞–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä–æ–≤–∏—á",
        "–°–æ—è –û–ª–µ–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–¢—é—Ç—é–Ω –õ—é–±–æ–≤ –ê–Ω–¥—Ä—ñ—ó–≤–Ω–∞", "–õ–µ–æ–Ω–æ–≤–∞ –Ü–≤–∞–Ω–Ω–∞ –ú–∏–∫–æ–ª–∞—ó–≤–Ω–∞", "–ü–æ–ª—ñ—â—É–∫ –í—ñ—Ç–∞–ª—ñ–π –û–ª–µ–≥–æ–≤–∏—á", "–Ø—Ä–æ—à –û–∫—Å–∞–Ω–∞ –Ü–≤–∞–Ω—ñ–≤–Ω–∞"
    ],
    "–ö–∞—Ñ–µ–¥—Ä–∞ —Ñ—ñ–∑–∏–∫–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏, –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó": [
        "–°—ñ–ª—å–≤–µ–π—Å—Ç—Ä –ê–Ω–∞—Ç–æ–ª—ñ–π –ú–∏–∫–æ–ª–∞–π–æ–≤–∏—á (–ó–∞–≤—ñ–¥—É–≤–∞—á –∫–∞—Ñ–µ–¥—Ä–∏ —Ñ—ñ–∑–∏–∫–∏ —ñ –º–µ—Ç–æ–¥–∏–∫–∏ –Ω–∞–≤—á–∞–Ω–Ω—è —Ñ—ñ–∑–∏–∫–∏, –∞—Å—Ç—Ä–æ–Ω–æ–º—ñ—ó)", "–ó–∞–±–æ–ª–æ—Ç–Ω–∏–π –í–æ–ª–æ–¥–∏–º–∏—Ä –§–µ–¥–æ—Ä–æ–≤–∏—á", "–ë—ñ–ª—é–∫ –ê–Ω–∞—Ç–æ–ª—ñ–π –Ü–≤–∞–Ω–æ–≤–∏—á",
        "D—É–º–µ–Ω–∫–æ –í—ñ–∫—Ç–æ—Ä—ñ—è –ü–µ—Ç—Ä—ñ–≤–Ω–∞", "–ú–æ–∫–ª—é–∫ –ú–∏–∫–æ–ª–∞ –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–ö—Å–µ–Ω–¥–∑–æ–≤–∞ –û–∫—Å–∞–Ω–∞ –°–µ—Ä–≥—ñ—ó–≤–Ω–∞", "–ú–∞–º—ñ—á–µ–≤–∞ –Ü–Ω–Ω–∞ –û–ª–µ–∫—Å—ñ—ó–≤–Ω–∞",
        "–ú–æ—Ä–æ–∑ –Ø—Ä–æ—Å–ª–∞–≤ –û–ª–µ–∫—Å—ñ–π–æ–≤–∏—á", "–°—ñ–≤–∞—î–≤–∞ –ù–∞—Ç–∞–ª—ñ—è –í–∏—Ç–∞–ª—ñ—ó–≤–Ω–∞", "–ñ—É—Ä–∂–∞ –ê—Ä—Ç–µ–º –ê—Ä—Å–µ–Ω–æ–≤–∏—á"
    ]
}

# --- BACKEND ---
def make_hashes(password):
    return hashlib.sha256(str.encode(password)).hexdigest()

def check_hashes(password, hashed_text):
    if make_hashes(password) == hashed_text: return True
    return False

def create_connection():
    return sqlite3.connect('university_v22.db', check_same_thread=False)

def init_db():
    conn = create_connection()
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS users(username TEXT PRIMARY KEY, password TEXT, role TEXT, full_name TEXT, group_link TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS students(id INTEGER PRIMARY KEY AUTOINCREMENT, full_name TEXT, group_name TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS schedule(id INTEGER PRIMARY KEY AUTOINCREMENT, group_name TEXT, day TEXT, time TEXT, subject TEXT, teacher TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS documents(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, student_name TEXT, status TEXT, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS file_storage(id INTEGER PRIMARY KEY AUTOINCREMENT, filename TEXT, file_content BLOB, upload_date TEXT, uploader TEXT, subject TEXT, description TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS grades(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, group_name TEXT, subject TEXT, type_of_work TEXT, grade INTEGER, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS attendance(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, group_name TEXT, subject TEXT, date_column TEXT, status TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS news(id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT, message TEXT, author TEXT, date TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS dormitory(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, room_number TEXT, payment_status TEXT, comments TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS scholarship(id INTEGER PRIMARY KEY AUTOINCREMENT, student_name TEXT, type TEXT, amount INTEGER, status TEXT, date_assigned TEXT)''')
    c.execute('''CREATE TABLE IF NOT EXISTS system_logs(id INTEGER PRIMARY KEY AUTOINCREMENT, user TEXT, action TEXT, details TEXT, timestamp TEXT)''')
    
    # --- –¢–ê–ë–õ–ò–¶–Ü D–õ–Ø –ê–ù–ö–ï–¢–ò –¢–ê –ö–û–ù–¢–†–ê–ö–¢–Ü–í ---
    c.execute('''CREATE TABLE IF NOT EXISTS student_education_info(
        student_name TEXT PRIMARY KEY,
        status TEXT, study_form TEXT, course INTEGER, is_contract TEXT,
        faculty TEXT, specialty TEXT, edu_program TEXT,
        referral_type TEXT, enterprise TEXT,
        enroll_protocol_num TEXT, enroll_order_num TEXT, enroll_condition TEXT,
        enroll_protocol_date TEXT, enroll_order_date TEXT, enroll_date TEXT,
        grad_order_num TEXT, grad_order_date TEXT, grad_date TEXT,
        student_id_card TEXT, gradebook_id TEXT, library_card TEXT,
        curator TEXT, last_modified TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS student_prev_education(
        student_name TEXT PRIMARY KEY,
        institution_name TEXT, institution_type TEXT,
        diploma_type TEXT, diploma_series TEXT, diploma_number TEXT,
        diploma_grades_summary TEXT, foreign_languages TEXT,
        last_modified TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS academic_certificates(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT, cert_number TEXT, issue_date TEXT,
        source_institution TEXT, notes TEXT,
        added_by TEXT, added_date TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS individual_statements(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT, subject TEXT, statement_type TEXT,
        reason TEXT, date_issued TEXT, status TEXT,
        created_by TEXT
    )''')
    c.execute('''CREATE TABLE IF NOT EXISTS student_contracts(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        student_name TEXT,
        contract_number TEXT,
        date_signed TEXT,
        end_date TEXT,
        total_amount REAL,
        paid_amount REAL,
        payment_status TEXT,
        notes TEXT
    )''')

    # --- –ù–û–í–ê –¢–ê–ë–õ–ò–¶–Ø: –ï–ö–ó–ê–ú–ï–ù–ê–¶–Ü–ô–ù–Ü –í–ÜD–û–ú–û–°–¢–Ü (–°–ï–°–Ü–Ø) ---
    c.execute('''CREATE TABLE IF NOT EXISTS exam_sheets(
        id INTEGER PRIMARY KEY AUTOINCREMENT,
        sheet_number TEXT,
        group_name TEXT,
        subject TEXT,
        control_type TEXT,
        exam_date TEXT,
        examiner TEXT,
        status TEXT
    )''')

    conn.commit()

    c.execute('SELECT count(*) FROM students')
    if c.fetchone()[0] == 0:
        c.execute('INSERT OR IGNORE INTO users VALUES (?,?,?,?,?)', ('admin', make_hashes('admin'), 'admin', '–ì–æ–ª–æ–≤–Ω–∏–π –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä', ''))
        for group, names in GROUPS_DATA.items():
            for name in names:
                clean_name = name.lstrip("0123456789. ")
                c.execute('INSERT INTO students (full_name, group_name) VALUES (?,?)', (clean_name, group))
        conn.commit()
    return conn

def log_action(user, action, details):
    conn = create_connection()
    ts = datetime.now().strftime("%Y-%m-%d %H:%M:%S")
    conn.execute("INSERT INTO system_logs (user, action, details, timestamp) VALUES (?,?,?,?)", (user, action, details, ts))
    conn.commit()

def convert_df_to_csv(df):
    return df.to_csv(index=False).encode('utf-8-sig')

# --- –°–¢–û–†–Ü–ù–ö–ò ---

def login_register_page():
    st.header("üîê –í—Ö—ñ–¥ / –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è (–í–∏–∫–ª–∞–¥–∞—á)")
    action = st.radio("–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é:", ["–í—Ö—ñ–¥", "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è"], horizontal=True)
    
    conn = create_connection()
    c = conn.cursor()

    ALLOWED_STAFF = ["teacher"]

    if action == "–í—Ö—ñ–¥":
        username = st.text_input("–õ–æ–≥—ñ–Ω")
        password = st.text_input("–ü–∞—Ä–æ–ª—å", type='password')
        
        if st.button("–£–≤—ñ–π—Ç–∏"):
            c.execute('SELECT * FROM users WHERE username=? AND password=?', (username, make_hashes(password)))
            user = c.fetchone()
            
            if user:
                if user[2] not in ALLOWED_STAFF and user[2] != 'admin':
                    st.error("–î–æ—Å—Ç—É–ø –æ–±–º–µ–∂–µ–Ω–æ. –¢—ñ–ª—å–∫–∏ –¥–ª—è –ø–µ—Ä—Å–æ–Ω–∞–ª—É!")
                else:
                    st.session_state['logged_in'] = True
                    st.session_state['username'] = user[0]
                    st.session_state['role'] = user[2]
                    st.session_state['full_name'] = user[3]
                    st.session_state['group'] = user[4]
                    
                    log_action(user[3], "Login", f"–í—Ö—ñ–¥ —É —Å–∏—Å—Ç–µ–º—É: {user[2]}")
                    st.success(f"–í—ñ—Ç–∞—î–º–æ, {user[3]}!")
                    st.rerun()
            else:
                st.error("–ù–µ–≤—ñ—Ä–Ω–∏–π –ª–æ–≥—ñ–Ω –∞–±–æ –ø–∞—Ä–æ–ª—å")

    elif action == "–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è":
        st.info("–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –í–∏–∫–ª–∞–¥–∞—á—ñ–≤")
        new_user = st.text_input("–í–∏–≥–∞–¥–∞–π—Ç–µ –ª–æ–≥—ñ–Ω")
        new_pass = st.text_input("–í–∏–≥–∞–¥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å", type='password')
        
        registration_roles = ["teacher"]
        role = st.selectbox("–í–∞—à–∞ –ø–æ—Å–∞–¥–∞ / –†–æ–ª—å", registration_roles)
        
        full_name = st.text_input("–í–∞—à–µ –ü–Ü–ë (–ø–æ–≤–Ω—ñ—Å—Ç—é)")
        group_link = "Staff/Admin"

        if st.button("–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è"):
            if new_user and new_pass and full_name:
                try:
                    c.execute('INSERT INTO users VALUES (?,?,?,?,?)', 
                              (new_user, make_hashes(new_pass), role, full_name, group_link))
                    conn.commit()
                    
                    log_action(full_name, "Registration", f"–ù–æ–≤–∏–π –∑–∞–ø–∏—Å: {role}")
                    st.success("–û–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ! –¢–µ–ø–µ—Ä —É–≤—ñ–π–¥—ñ—Ç—å —É –≤–∫–ª–∞–¥—Ü—ñ '–í—Ö—ñ–¥'.")
                except sqlite3.IntegrityError:
                    st.error("–¶–µ–π –ª–æ–≥—ñ–Ω –≤–∂–µ –∑–∞–π–Ω—è—Ç–∏–π.")
            else:
                st.warning("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å —É—Å—ñ –ø–æ–ª—è.")

def main_panel():
    st.title("üè† –ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å")
    st.markdown(f"### –í—ñ—Ç–∞—î–º–æ, {st.session_state['full_name']}!")
    conn = create_connection()
    
    st.divider()
    st.subheader("üìä –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ —Ç–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞")
    kpi1, kpi2, kpi3 = st.columns(3)
    
    total_students = pd.read_sql_query("SELECT count(*) FROM students", conn).iloc[0,0]
    kpi1.metric("–í—Å—å–æ–≥–æ —Å—Ç—É–¥–µ–Ω—Ç—ñ–≤", total_students)

    file_count = pd.read_sql_query("SELECT count(*) FROM file_storage", conn).iloc[0,0]
    kpi2.metric("–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ –º–∞—Ç–µ—Ä—ñ–∞–ª—ñ–≤", file_count)

    avg_q = "SELECT avg(grade) FROM grades"
    avg_val = pd.read_sql_query(avg_q, conn).iloc[0,0]
    avg_val = round(avg_val, 1) if avg_val else 0
    kpi3.metric("–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª", avg_val)

    col_chart1, col_chart2 = st.columns(2)
    with col_chart1:
        st.markdown("**üìà –£—Å–ø—ñ—à–Ω—ñ—Å—Ç—å (–°–µ—Ä–µ–¥–Ω—ñ–π –±–∞–ª)**")
        query_chart = "SELECT subject, avg(grade) as avg_grade FROM grades GROUP BY subject"
        df_chart = pd.read_sql_query(query_chart, conn)
        if not df_chart.empty: st.bar_chart(df_chart.set_index('subject'))
        else: st.info("–ù–∞—Ä–∞–∑—ñ –¥–∞–Ω—ñ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ.")

    with col_chart2:
        st.markdown("**üìâ –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å**")
        q_att = "SELECT status FROM attendance"
        df_att = pd.read_sql_query(q_att, conn)
        if not df_att.empty:
            absent_count = df_att[df_att['status'] != ''].shape[0] 
            present_count = df_att[df_att['status'] == ''].shape[0] 
            att_data = pd.DataFrame({'–°—Ç–∞—Ç—É—Å': ['–ü—Ä–∏—Å—É—Ç–Ω—ñ–π', '–í—ñ–¥—Å—É—Ç–Ω—ñ–π/–Ü–Ω—à–µ'], '–ö—ñ–ª—å–∫—ñ—Å—Ç—å': [present_count, absent_count]})
            base = alt.Chart(att_data).encode(theta=alt.Theta("–ö—ñ–ª—å–∫—ñ—Å—Ç—å", stack=True))
            pie = base.mark_arc(outerRadius=120).encode(color=alt.Color("–°—Ç–∞—Ç—É—Å"), order=alt.Order("–ö—ñ–ª—å–∫—ñ—Å—Ç—å", sort="descending"), tooltip=["–°—Ç–∞—Ç—É—Å", "–ö—ñ–ª—å–∫—ñ—Å—Ç—å"])
            st.altair_chart(pie, use_container_width=True)
        else: st.info("–ù–∞—Ä–∞–∑—ñ –¥–∞–Ω—ñ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ.")

    st.divider()
    st.subheader("üì¢ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ç–∞ –ù–æ–≤–∏–Ω–∏")
    if st.session_state['role'] in TEACHER_LEVEL:
        with st.expander("üìù D–æ–¥–∞—Ç–∏ –Ω–æ–≤–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è"):
            with st.form("news_form"):
                n_title = st.text_input("–ó–∞–≥–æ–ª–æ–≤–æ–∫ –Ω–æ–≤–∏–Ω–∏")
                n_msg = st.text_area("–¢–µ–∫—Å—Ç –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è")
                if st.form_submit_button("–û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏"):
                    if n_title and n_msg:
                        c = conn.cursor()
                        date_pub = datetime.now().strftime("%Y-%m-%d %H:%M")
                        c.execute("INSERT INTO news (title, message, author, date) VALUES (?,?,?,?)", (n_title, n_msg, st.session_state['full_name'], date_pub))
                        conn.commit()
                        st.success("–ù–æ–≤–∏–Ω—É –æ–ø—É–±–ª—ñ–∫–æ–≤–∞–Ω–æ!")
                        st.rerun()
    news_df = pd.read_sql_query("SELECT title, message, author, date FROM news ORDER BY id DESC", conn)
    if not news_df.empty:
        for i, row in news_df.iterrows():
            with st.container(border=True):
                st.markdown(f"### {row['title']}")
                st.write(row['message'])
                st.caption(f"üóìÔ∏è {row['date']} | ‚úçÔ∏è {row['author']}")
    else: st.info("–ù–∞—Ä–∞–∑—ñ –Ω–µ–º–∞—î –∞–∫—Ç—É–∞–ª—å–Ω–∏—Ö –æ–≥–æ–ª–æ—à–µ–Ω—å.")

def students_groups_view():
    st.title("üë• –°—Ç—É–¥–µ–Ω—Ç–∏ —Ç–∞ –ì—Ä—É–ø–∏")
    conn = create_connection()
    all_groups = ["–í—Å—ñ"] + list(GROUPS_DATA.keys())
    selected_group = st.selectbox("–§—ñ–ª—å—Ç—Ä –ø–æ –≥—Ä—É–ø—ñ:", all_groups)
    query = "SELECT id, full_name as '–ü–Ü–ë', group_name as '–ì—Ä—É–ø–∞' FROM students"
    if selected_group != "–í—Å—ñ": query += f" WHERE group_name='{selected_group}'"
    df = pd.read_sql_query(query, conn)
    csv = convert_df_to_csv(df)
    st.download_button("‚¨áÔ∏è –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ (CSV)", csv, "students.csv", "text/csv")
    st.dataframe(df, use_container_width=True)

if 'teachers_data' not in st.session_state:
    st.session_state.teachers_data = TEACHERS_DATA

def teachers_view():
    st.title("üë®‚Äçüè´ –í–∏–∫–ª–∞–¥–∞—á—ñ")
    # –í–ò–î–ê–õ–ï–ù–û –†–û–ó–î–Ü–õ "–£–ü–†–ê–í–õ–Ü–ù–ù–Ø" –¢–ê –ú–û–ñ–õ–ò–í–Ü–°–¢–¨ –†–ï–î–ê–ì–£–í–ê–ù–ù–Ø/–í–ò–î–ê–õ–ï–ù–ù–Ø
    st.divider()
    for dept, teachers in st.session_state.teachers_data.items():
        with st.expander(f"üìö {dept}", expanded=True):
            for i, t in enumerate(teachers):
                st.write(f"- {t}")

def schedule_view():
    st.title("üìÖ –†–æ–∑–∫–ª–∞–¥")
    conn = create_connection()
    grp = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()))
    df = pd.read_sql_query(f"SELECT day, time, subject, teacher FROM schedule WHERE group_name='{grp}'", conn)
    if not df.empty:
        st.subheader("üì§ –ï–∫—Å–ø–æ—Ä—Ç")
        c1, c2 = st.columns(2)
        csv = df.to_csv(index=False).encode('utf-8-sig')
        c1.download_button("‚¨áÔ∏è –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ CSV", csv, f"schedule_{grp}.csv", "text/csv")
        towrite = io.BytesIO()
        df.to_excel(towrite, index=False, engine='xlsxwriter')
        towrite.seek(0)
        c2.download_button("üìä –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ Excel", towrite, f"schedule_{grp}.xlsx", "application/vnd.ms-excel")
        st.table(df)
    else: st.info("–ù–∞—Ä–∞–∑—ñ –¥–∞–Ω—ñ –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ.")
    
    if st.session_state.get('role') in DEAN_LEVEL:
        st.divider()
        st.subheader("üì• –Ü–º–ø–æ—Ä—Ç —Ñ–∞–π–ª—É")
        uploaded_file = st.file_uploader("–û–±–µ—Ä—ñ—Ç—å —Ñ–∞–π–ª –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É (CSV –∞–±–æ Excel)", type=['csv', 'xlsx'])
        if uploaded_file:
            try:
                new_data = pd.read_csv(uploaded_file) if uploaded_file.name.endswith('.csv') else pd.read_excel(uploaded_file)
                if st.button("üöÄ –ó–±–µ—Ä–µ–≥—Ç–∏ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ"):
                    new_data['group_name'] = grp
                    new_data.to_sql('schedule', conn, if_exists='append', index=False)
                    st.success("–î–∞–Ω—ñ —É—Å–ø—ñ—à–Ω–æ –¥–æ–¥–∞–Ω–æ!")
                    st.rerun()
            except Exception as e: st.error(f"–ü–æ–º–∏–ª–∫–∞ —Ñ–æ—Ä–º–∞—Ç—É: {e}")
        st.divider()
        with st.form("sch"):
            st.write("üìù D–æ–¥–∞—Ç–∏ –∑–∞–ø–∏—Å –≤—Ä—É—á–Ω—É")
            d = st.selectbox("D–µ–Ω—å", ["–ü–æ–Ω–µ–¥—ñ–ª–æ–∫", "–í—ñ–≤—Ç–æ—Ä–æ–∫", "–°–µ—Ä–µ–¥–∞", "–ß–µ—Ç–≤–µ—Ä", "–ü'—è—Ç–Ω–∏—Ü—è"])
            t = st.selectbox("–ß–∞—Å", ["08:30 - 09:50", "10:05 - 11:25", "11:40 - 13:00", "13:30 - 14:50", "15:00 - 16:20", "16:35 - 17:55"])
            s = st.text_input("–ü—Ä–µ–¥–º–µ—Ç")
            tch = st.text_input("–í–∏–∫–ª–∞–¥–∞—á", value=st.session_state.get('full_name', ''))
            if st.form_submit_button("–î–æ–¥–∞—Ç–∏"):
                if s:
                    conn.execute("INSERT INTO schedule (group_name, day, time, subject, teacher) VALUES (?,?,?,?,?)", (grp, d, t, s, tch))
                    conn.commit()
                    st.rerun()
                else: st.error("–í–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É –ø—Ä–µ–¥–º–µ—Ç–∞!")

def documents_view():
    st.title("üìÇ D–æ–∫—É–º–µ–Ω—Ç–æ–æ–±—ñ–≥ —Ç–∞ –ó–∞—è–≤–∏")
    conn = create_connection()
    tabs = st.tabs(["üìÇ –†–µ—î—Å—Ç—Ä / –ú–æ—ó –∑–∞—è–≤–∏", "‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞—è–≤—É"])
    with tabs[0]:
        st.subheader("–Ü—Å—Ç–æ—Ä—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤")
        base_q = "SELECT id, student_name as '–°—Ç—É–¥–µ–Ω—Ç', title as '–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç—É', status as '–°—Ç–∞—Ç—É—Å', date as '–î–∞—Ç–∞' FROM documents"
        df_docs = pd.read_sql(f"{base_q} ORDER BY id DESC", conn)
        st.dataframe(df_docs, use_container_width=True)
    with tabs[1]:
        st.subheader("–ü–æ–¥–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –∑–∞–ø–∏—Ç—É")
        with st.form("doc_create"):
            d_type = st.selectbox("–¢–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç—É", ["D–æ–≤—ñ–¥–∫–∞ –ø—Ä–æ –Ω–∞–≤—á–∞–Ω–Ω—è", "–ó–∞—è–≤–∞ –Ω–∞ –º–∞—Ç–µ—Ä—ñ–∞–ª—å–Ω—É –¥–æ–ø–æ–º–æ–≥—É", "–ó–∞—è–≤–∞ –Ω–∞ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏–π –≥—Ä–∞—Ñ—ñ–∫"])
            d_comment = st.text_input("–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∏–º—ñ—Ç–∫–∏")
            if st.form_submit_button("–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–∞–ø–∏—Ç"):
                full_title = f"{d_type}" + (f" ({d_comment})" if d_comment else "")
                conn.execute("INSERT INTO documents (title, student_name, status, date) VALUES (?,?,?,?)", 
                             (full_title, st.session_state['full_name'], "–û—á—ñ–∫—É—î", str(datetime.now().date())))
                conn.commit()
                st.success("–ó–∞–ø–∏—Ç –Ω–∞–¥—ñ—Å–ª–∞–Ω–æ!")
                st.rerun()

def file_repository_view():
    st.title("üóÑÔ∏è –§–∞–π–ª–æ–≤–∏–π –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π")
    conn = create_connection()
    c = conn.cursor()
    filter_subj = st.selectbox("üìÇ –§—ñ–ª—å—Ç—Ä –ø–æ –ø—Ä–µ–¥–º–µ—Ç—É", ["–í—Å—ñ"] + SUBJECTS_LIST)
    if st.session_state['role'] in TEACHER_LEVEL:
        with st.expander("üì§ –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏"):
            with st.form("upload_form"):
                uploaded_file = st.file_uploader("–§–∞–π–ª")
                f_subject = st.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST)
                f_desc = st.text_input("–û–ø–∏—Å")
                if st.form_submit_button("–ó–±–µ—Ä–µ–≥—Ç–∏"):
                    if uploaded_file and f_desc:
                        c.execute("INSERT INTO file_storage (filename, file_content, upload_date, uploader, subject, description) VALUES (?,?,?,?,?,?)",
                                  (uploaded_file.name, uploaded_file.read(), datetime.now().strftime("%Y-%m-%d %H:%M"), st.session_state['full_name'], f_subject, f_desc))
                        conn.commit()
                        st.success("–ó–±–µ—Ä–µ–∂–µ–Ω–æ!")
                        st.rerun()
    df_files = pd.read_sql_query("SELECT id, filename, subject, description, upload_date, uploader FROM file_storage", conn)
    if filter_subj != "–í—Å—ñ": df_files = df_files[df_files['subject'] == filter_subj]
    for i, row in df_files.iterrows():
        with st.container(border=True):
            c1, c2, c3 = st.columns([4, 4, 2])
            c1.write(f"üìÑ **{row['filename']}** ({row['subject']})")
            c2.write(f"{row['description']}")
            data = c.execute("SELECT file_content FROM file_storage WHERE id=?", (row['id'],)).fetchone()[0]
            c3.download_button("‚¨áÔ∏è", data, row['filename'], key=f"f{row['id']}")

def gradebook_view():
    st.title("üíØ –ñ—É—Ä–Ω–∞–ª –û—Ü—ñ–Ω–æ–∫")
    conn = create_connection()
    c = conn.cursor()
    t_journal, t_ops = st.tabs(["–ñ—É—Ä–Ω–∞–ª", "üì•/üì§ –û–ø–µ—Ä–∞—Ü—ñ—ó"])
    c1, c2, c3 = st.columns(3)
    grp = c1.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()), key="g_v")
    stds_df = pd.read_sql(f"SELECT full_name FROM students WHERE group_name='{grp}'", conn)
    students_in_group = stds_df['full_name'].tolist() if not stds_df.empty else []
    selected_student = c2.selectbox("–°—Ç—É–¥–µ–Ω—Ç", ["–í—Å—ñ —Å—Ç—É–¥–µ–Ω—Ç–∏"] + students_in_group)
    subj = c3.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST)
    with t_journal:
        with st.expander("‚ûï –î–æ–¥–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É"):
            with st.form("new_col"):
                nm = st.text_input("–ù–∞–∑–≤–∞")
                dt = st.date_input("–î–∞—Ç–∞")
                if st.form_submit_button("–°—Ç–≤–æ—Ä–∏—Ç–∏"):
                    for s in students_in_group:
                        c.execute("INSERT INTO grades (student_name, group_name, subject, type_of_work, grade, date) VALUES (?,?,?,?,?,?)", (s, grp, subj, nm, 0, str(dt)))
                    conn.commit()
                    st.rerun()
        raw = pd.read_sql(f"SELECT student_name, type_of_work, grade FROM grades WHERE group_name='{grp}' AND subject='{subj}'", conn)
        if not raw.empty:
            matrix = raw.pivot_table(index='student_name', columns='type_of_work', values='grade', aggfunc='first').fillna(0)
            edited = st.data_editor(matrix, use_container_width=True)
            if st.button("–ó–±–µ—Ä–µ–≥—Ç–∏ –∑–º—ñ–Ω–∏"):
                for s_name, row in edited.iterrows():
                    for w_name, val in row.items():
                        c.execute("UPDATE grades SET grade=? WHERE student_name=? AND subject=? AND type_of_work=?", (val, s_name, subj, w_name))
                conn.commit()
                st.success("–û–Ω–æ–≤–ª–µ–Ω–æ!")
    with t_ops:
        raw_export = pd.read_sql(f"SELECT * FROM grades WHERE group_name='{grp}' AND subject='{subj}'", conn)
        st.download_button("üìÑ –ï–∫—Å–ø–æ—Ä—Ç CSV", raw_export.to_csv(index=False).encode('utf-8-sig'), "grades.csv")

def attendance_view():
    st.title("üìù –ñ—É—Ä–Ω–∞–ª –í—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ")
    conn = create_connection()
    c1, c2 = st.columns(2)
    grp = c1.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()), key="att_g")
    subj = c2.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST, key="att_s")
    with st.expander("‚ûï D–æ–¥–∞—Ç–∏ –¥–∞—Ç—É"):
        with st.form("new_att"):
            col_name = st.text_input("D–∞—Ç–∞ (–Ω–∞–ø—Ä. 25.12)")
            if st.form_submit_button("–°—Ç–≤–æ—Ä–∏—Ç–∏"):
                stds = pd.read_sql(f"SELECT full_name FROM students WHERE group_name='{grp}'", conn)['full_name'].tolist()
                for s in stds:
                    conn.execute("INSERT INTO attendance (student_name, group_name, subject, date_column, status) VALUES (?,?,?,?,?)", (s, grp, subj, col_name, ""))
                conn.commit()
                st.rerun()
    raw = pd.read_sql(f"SELECT student_name, date_column, status FROM attendance WHERE group_name='{grp}' AND subject='{subj}'", conn)
    if not raw.empty:
        matrix = raw.pivot_table(index='student_name', columns='date_column', values='status', aggfunc='first').fillna("")
        edited = st.data_editor(matrix, use_container_width=True)
        if st.button("üíæ –ó–±–µ—Ä–µ–≥—Ç–∏ –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω—ñ—Å—Ç—å"):
            for s_name, row in edited.iterrows():
                for d_col, val in row.items():
                    conn.execute("UPDATE attendance SET status=? WHERE student_name=? AND subject=? AND date_column=?", (val, s_name, subj, d_col))
            conn.commit()
            st.success("–ó–±–µ—Ä–µ–∂–µ–Ω–æ!")

def reports_view():
    st.title("üìä –ó–≤—ñ—Ç–∏ —Ç–∞ –ü–æ—à—É–∫")
    conn = create_connection()
    t1, t2, t3 = st.tabs(["üìã –í—ñ–¥–æ–º—ñ—Å—Ç—å", "üéì –ö–∞—Ä—Ç–∫–∞ –°—Ç—É–¥–µ–Ω—Ç–∞", "üìà –ó–≤–µ–¥–µ–Ω–∞ –≤—ñ–¥–æ–º—ñ—Å—Ç—å"])
    with t1:
        grp = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()), key="r_g")
        subj = st.selectbox("–ü—Ä–µ–¥–º–µ—Ç", SUBJECTS_LIST, key="r_s")
        raw = pd.read_sql(f"SELECT student_name, type_of_work, grade FROM grades WHERE group_name='{grp}' AND subject='{subj}'", conn)
        if not raw.empty:
            matrix = raw.pivot_table(index='student_name', columns='type_of_work', values='grade', aggfunc='first').fillna(0)
            st.dataframe(matrix, use_container_width=True)
    with t2:
        all_st = pd.read_sql("SELECT full_name FROM students", conn)
        sel_st = st.selectbox("–°—Ç—É–¥–µ–Ω—Ç", all_st['full_name'].tolist())
        st.write(pd.read_sql(f"SELECT subject, type_of_work, grade, date FROM grades WHERE student_name='{sel_st}'", conn))
    with t3:
        grp_sum = st.selectbox("–ì—Ä—É–ø–∞", list(GROUPS_DATA.keys()), key="r_sum")
        data = pd.read_sql(f"SELECT student_name, subject, AVG(grade) as final_grade FROM grades WHERE group_name = '{grp_sum}' GROUP BY student_name, subject", conn)
        if not data.empty:
            st.dataframe(data.pivot_table(index='student_name', columns='subject', values='final_grade').fillna(0))

def main():
    init_db()
    if 'logged_in' not in st.session_state:
        st.session_state['logged_in'] = False
        st.session_state['role'] = None
        st.session_state['full_name'] = ""

    if not st.session_state['logged_in']:
        login_register_page()
    else:
        st.sidebar.title(f"üë§ {st.session_state['full_name']}")
        st.sidebar.markdown("### üë®‚Äçüè´ –í–ò–ö–õ–ê–î–ê–ß (ACADEMIC)")
        
        if st.sidebar.button("–ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ —Ç–µ–º—É üåì"):
            toggle_theme()
            st.rerun()
            
        st.sidebar.divider()
        
        menu_options = {
            "–ì–æ–ª–æ–≤–Ω–∞ –ø–∞–Ω–µ–ª—å": main_panel,
            "–°—Ç—É–¥–µ–Ω—Ç–∏ —Ç–∞ –ì—Ä—É–ø–∏": students_groups_view,
            "–í–∏–∫–ª–∞–¥–∞—á—ñ —Ç–∞ –ö–∞—Ñ–µ–¥—Ä–∏": teachers_view,
            "–†–æ–∑–∫–ª–∞–¥ –∑–∞–Ω—è—Ç—å": schedule_view,
            "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∏–π –∂—É—Ä–Ω–∞–ª": gradebook_view,
            "–ñ—É—Ä–Ω–∞–ª –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–æ—Å—Ç—ñ": attendance_view,
            "–ó–≤—ñ—Ç–∏ —Ç–∞ –ü–æ—à—É–∫": reports_view,
            "–î–æ–∫—É–º–µ–Ω—Ç–æ–æ–±—ñ–≥": documents_view,
            "–§–∞–π–ª–æ–≤–∏–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π": file_repository_view
        }
        
        selection = st.sidebar.radio("–ù–∞–≤—ñ–≥–∞—Ü—ñ—è", list(menu_options.keys()))
        menu_options[selection]()
        
        st.sidebar.divider()
        if st.sidebar.button("–í–∏–π—Ç–∏ üö™"):
            st.session_state['logged_in'] = False
            st.rerun()

if __name__ == '__main__':
    main()
